<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traducteur de Prompts - Constrained Prompting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        .panel {
            display: flex;
            flex-direction: column;
        }

        .panel h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .badge-input {
            background: #ffd93d;
            color: #333;
        }

        .badge-output {
            background: #6bcf7f;
            color: white;
        }

        textarea {
            width: 100%;
            min-height: 400px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            resize: vertical;
            transition: all 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        #inputPrompt {
            background: #fffef7;
        }

        #outputPrompt {
            background: #f0f9ff;
        }

        .button-container {
            grid-column: 1 / -1;
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 10px;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-translate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-translate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-copy {
            background: #6bcf7f;
            color: white;
        }

        .btn-copy:hover {
            background: #5ab86d;
            transform: translateY(-2px);
        }

        .btn-clear {
            background: #ff6b6b;
            color: white;
        }

        .btn-clear:hover {
            background: #ee5a52;
            transform: translateY(-2px);
        }

        .stats {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .info-box {
            grid-column: 1 / -1;
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .info-box h3 {
            color: #1976D2;
            margin-bottom: 10px;
        }

        .info-box ul {
            margin-left: 20px;
            color: #555;
        }

        .info-box li {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .button-container {
                flex-direction: column;
            }

            button {
                width: 100%;
                justify-content: center;
            }

            .stats {
                flex-direction: column;
                gap: 15px;
            }
        }

        .tooltip {
            position: fixed;
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .tooltip.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Traducteur de Prompts</h1>
            <p>Transformez vos prompts basiques en instructions ultra-cadr√©es pour ChatGPT</p>
        </div>

        <div class="main-content">
            <div class="info-box">
                <h3>üìå Comment √ßa marche ?</h3>
                <ul>
                    <li>Collez votre prompt normal dans la zone de gauche</li>
                    <li>Cliquez sur "Traduire le Prompt"</li>
                    <li>R√©cup√©rez votre prompt optimis√© √† droite, pr√™t √† coller dans ChatGPT</li>
                    <li>Le prompt traduit inclut : r√¥le, objectif, contraintes, format, interdictions et validation</li>
                </ul>
            </div>

            <div class="panel">
                <h2>
                    <span class="badge badge-input">ENTR√âE</span>
                    Prompt Normal
                </h2>
                <textarea 
                    id="inputPrompt" 
                    placeholder="Collez votre prompt normal ici...&#10;&#10;Exemple :&#10;√âcris-moi un article sur la basse √©lectrique"
                ></textarea>
            </div>

            <div class="panel">
                <h2>
                    <span class="badge badge-output">SORTIE</span>
                    Prompt Optimis√©
                </h2>
                <textarea 
                    id="outputPrompt" 
                    readonly
                    placeholder="Votre prompt optimis√© appara√Ætra ici..."
                ></textarea>
            </div>

            <div class="button-container">
                <button class="btn-translate" onclick="translatePrompt()">
                    ‚ö° Traduire le Prompt
                </button>
                <button class="btn-copy" onclick="copyToClipboard()">
                    üìã Copier le R√©sultat
                </button>
                <button class="btn-clear" onclick="clearAll()">
                    üóëÔ∏è Effacer Tout
                </button>
            </div>

            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="inputWords">0</div>
                    <div class="stat-label">Mots (entr√©e)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="outputWords">0</div>
                    <div class="stat-label">Mots (sortie)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="compressionRatio">0%</div>
                    <div class="stat-label">Expansion</div>
                </div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Fonction pour compter les mots
        function countWords(text) {
            return text.trim().split(/\s+/).filter(word => word.length > 0).length;
        }

        // Mise √† jour des statistiques
        function updateStats() {
            const input = document.getElementById('inputPrompt').value;
            const output = document.getElementById('outputPrompt').value;
            
            const inputCount = countWords(input);
            const outputCount = countWords(output);
            
            document.getElementById('inputWords').textContent = inputCount;
            document.getElementById('outputWords').textContent = outputCount;
            
            if (inputCount > 0) {
                const ratio = Math.round((outputCount / inputCount) * 100);
                document.getElementById('compressionRatio').textContent = ratio + '%';
            } else {
                document.getElementById('compressionRatio').textContent = '0%';
            }
        }

        // Fonction principale de traduction
        function translatePrompt() {
            const input = document.getElementById('inputPrompt').value.trim();
            
            if (!input) {
                alert('‚ö†Ô∏è Veuillez entrer un prompt √† traduire !');
                return;
            }

            // Analyse du prompt pour d√©tecter le type de t√¢che
            const taskType = detectTaskType(input);
            const constraints = generateConstraints(input, taskType);
            
            const translatedPrompt = `# R√îLE
${constraints.role}

# OBJECTIF
${constraints.objective}

# CONTRAINTES OBLIGATOIRES
${constraints.constraints}

# FORMAT DE SORTIE IMPOS√â
${constraints.format}

# INTERDICTIONS ABSOLUES
${constraints.prohibitions}

# VALIDATION AVANT ENVOI
Avant de r√©pondre, v√©rifie :
${constraints.validation}

# R√àGLE ANTI-PROCRASTINATION
Tu NE DOIS PAS :
- Demander des pr√©cisions suppl√©mentaires
- Proposer plusieurs versions
- Sugg√©rer des alternatives
- Expliquer ta d√©marche

Tu DOIS :
- Produire directement le contenu demand√©
- Respecter TOUTES les contraintes
- Livrer un r√©sultat final et complet

---

PROMPT ORIGINAL √Ä EX√âCUTER :
${input}`;

            document.getElementById('outputPrompt').value = translatedPrompt;
            updateStats();
            
            // Animation de succ√®s
            const outputArea = document.getElementById('outputPrompt');
            outputArea.style.borderColor = '#6bcf7f';
            setTimeout(() => {
                outputArea.style.borderColor = '#e0e0e0';
            }, 1000);
        }

        // D√©tection du type de t√¢che
        function detectTaskType(prompt) {
            const lower = prompt.toLowerCase();
            
            if (lower.includes('√©cris') || lower.includes('r√©dige') || lower.includes('article') || lower.includes('texte')) {
                return 'writing';
            } else if (lower.includes('analyse') || lower.includes('√©tudie') || lower.includes('examine')) {
                return 'analysis';
            } else if (lower.includes('cr√©e') || lower.includes('g√©n√®re') || lower.includes('con√ßois')) {
                return 'creation';
            } else if (lower.includes('explique') || lower.includes('d√©cris') || lower.includes('pr√©sente')) {
                return 'explanation';
            } else if (lower.includes('liste') || lower.includes('√©num√®re') || lower.includes('donne')) {
                return 'listing';
            } else if (lower.includes('traduis') || lower.includes('convertis') || lower.includes('transforme')) {
                return 'transformation';
            } else if (lower.includes('r√©sume') || lower.includes('synth√©tise')) {
                return 'summary';
            } else if (lower.includes('code') || lower.includes('programme') || lower.includes('script')) {
                return 'coding';
            }
            
            return 'general';
        }

        // G√©n√©ration des contraintes selon le type
        function generateConstraints(prompt, taskType) {
            const constraints = {
                role: '',
                objective: '',
                constraints: '',
                format: '',
                prohibitions: '',
                validation: ''
            };

            switch(taskType) {
                case 'writing':
                    constraints.role = "Tu es un r√©dacteur expert sp√©cialis√© dans la cr√©ation de contenu de qualit√©.";
                    constraints.objective = "Produire un texte complet et structur√© r√©pondant exactement √† la demande.";
                    constraints.constraints = `- Longueur : Minimum 500 mots (sauf indication contraire)
- Ton : Professionnel et engageant
- Structure : Introduction, d√©veloppement, conclusion
- Public cible : Grand public inform√©
- Style : Clair, fluide, sans jargon excessif`;
                    constraints.format = `1. Introduction captivante (15% du texte)
2. D√©veloppement structur√© en sections logiques (70% du texte)
3. Conclusion avec ouverture (15% du texte)

Chaque section DOIT contenir :
- Un sous-titre explicite
- Des exemples concrets
- Des transitions fluides`;
                    constraints.prohibitions = `‚ùå Ne pas utiliser de phrases g√©n√©riques ou clich√©s
‚ùå Ne pas r√©p√©ter les m√™mes id√©es
‚ùå Ne pas donner d'opinions sans les justifier
‚ùå Ne pas faire de fautes d'orthographe
‚ùå Ne pas proposer de plan sans le d√©velopper`;
                    constraints.validation = `- [ ] Le texte fait au moins 500 mots
- [ ] La structure est respect√©e
- [ ] Chaque section a des exemples
- [ ] Le ton est coh√©rent du d√©but √† la fin
- [ ] Aucune phrase g√©n√©rique type "en conclusion..."`;
                    break;

                case 'analysis':
                    constraints.role = "Tu es un analyste expert capable de d√©composer et examiner en profondeur tout sujet.";
                    constraints.objective = "Fournir une analyse compl√®te, structur√©e et factuelle.";
                    constraints.constraints = `- Profondeur : Analyse d√©taill√©e avec au moins 3 niveaux de profondeur
- Approche : Objective et factuelle
- Sources : Mentionner les aspects analys√©s
- Clart√© : Utiliser des exemples concrets`;
                    constraints.format = `1. CONTEXTE (10% de l'analyse)
2. ANALYSE PRINCIPALE (60% de l'analyse)
   - Aspect 1 : [d√©tails]
   - Aspect 2 : [d√©tails]
   - Aspect 3 : [d√©tails]
3. SYNTH√àSE (20% de l'analyse)
4. IMPLICATIONS (10% de l'analyse)`;
                    constraints.prohibitions = `‚ùå Ne pas rester en surface
‚ùå Ne pas donner d'opinions non √©tay√©es
‚ùå Ne pas ignorer les nuances
‚ùå Ne pas utiliser de formules vagues
‚ùå Ne pas proposer d'analyse sans exemples`;
                    constraints.validation = `- [ ] Au moins 3 aspects diff√©rents sont analys√©s
- [ ] Chaque point est d√©taill√© et document√©
- [ ] Des exemples concrets sont fournis
- [ ] La synth√®se reprend les points cl√©s
- [ ] Les implications sont claires`;
                    break;

                case 'creation':
                    constraints.role = "Tu es un cr√©ateur expert capable de concevoir des solutions originales et fonctionnelles.";
                    constraints.objective = "Cr√©er un √©l√©ment complet et utilisable imm√©diatement.";
                    constraints.constraints = `- Originalit√© : Solution unique et cr√©ative
- Fonctionnalit√© : Directement utilisable
- Qualit√© : Professionnel et soign√©
- D√©tails : Tous les √©l√©ments n√©cessaires inclus`;
                    constraints.format = `Livrer la cr√©ation finale avec :
1. Le r√©sultat principal (pr√™t √† l'emploi)
2. Les sp√©cifications techniques si applicable
3. Les instructions d'utilisation si n√©cessaire
4. Les variantes possibles (optionnel)`;
                    constraints.prohibitions = `‚ùå Ne pas livrer de brouillon ou d'√©bauche
‚ùå Ne pas demander des clarifications inutiles
‚ùå Ne pas proposer sans produire
‚ùå Ne pas oublier d'√©l√©ments essentiels`;
                    constraints.validation = `- [ ] La cr√©ation est compl√®te et finale
- [ ] Elle est directement utilisable
- [ ] Tous les d√©tails sont pr√©sents
- [ ] La qualit√© est professionnelle`;
                    break;

                case 'explanation':
                    constraints.role = "Tu es un p√©dagogue expert capable d'expliquer clairement des concepts complexes.";
                    constraints.objective = "Expliquer de mani√®re claire, progressive et compl√®te.";
                    constraints.constraints = `- Clart√© : Langage accessible sans simplification excessive
- Progression : Du simple au complexe
- Exemples : Au moins 2 exemples concrets par concept
- P√©dagogie : Analogies et m√©taphores pertinentes`;
                    constraints.format = `1. INTRODUCTION : Pr√©sentation du concept (10%)
2. EXPLICATION DE BASE : Fondamentaux (30%)
3. APPROFONDISSEMENT : D√©tails et nuances (40%)
4. EXEMPLES PRATIQUES : Applications concr√®tes (20%)`;
                    constraints.prohibitions = `‚ùå Ne pas utiliser de jargon sans l'expliquer
‚ùå Ne pas sauter des √©tapes logiques
‚ùå Ne pas donner d'exemples trop complexes
‚ùå Ne pas rester abstrait`;
                    constraints.validation = `- [ ] Le concept est d√©fini clairement
- [ ] La progression est logique
- [ ] Au moins 2 exemples concrets sont donn√©s
- [ ] Les termes techniques sont expliqu√©s`;
                    break;

                case 'listing':
                    constraints.role = "Tu es un expert en organisation et cat√©gorisation d'informations.";
                    constraints.objective = "Fournir une liste compl√®te, structur√©e et exploitable.";
                    constraints.constraints = `- Exhaustivit√© : Couvrir tous les aspects pertinents
- Organisation : Ordre logique (priorit√©, cat√©gorie, alphab√©tique)
- D√©tails : Chaque √©l√©ment doit √™tre d√©crit
- Minimum : Au moins 8-10 √©l√©ments sauf indication contraire`;
                    constraints.format = `Pour chaque √©l√©ment de la liste :
- Titre/Nom clair
- Description courte (1-2 phrases)
- Caract√©ristique distinctive
- Utilit√©/Application si pertinent`;
                    constraints.prohibitions = `‚ùå Ne pas donner une liste sans descriptions
‚ùå Ne pas lister moins de 5 √©l√©ments sans raison
‚ùå Ne pas m√©langer diff√©rents types d'√©l√©ments
‚ùå Ne pas oublier les √©l√©ments √©vidents`;
                    constraints.validation = `- [ ] Au moins 8 √©l√©ments sont list√©s
- [ ] Chaque √©l√©ment a une description
- [ ] L'ordre est logique
- [ ] La liste est exploitable directement`;
                    break;

                case 'transformation':
                    constraints.role = "Tu es un expert en transformation et conversion de contenus.";
                    constraints.objective = "Transformer le contenu source en respectant strictement le format cible.";
                    constraints.constraints = `- Fid√©lit√© : Conserver le sens original
- Format : Respecter scrupuleusement le format demand√©
- Qualit√© : R√©sultat professionnel et soign√©
- Compl√©tude : Ne rien omettre du contenu source`;
                    constraints.format = `Livrer uniquement le r√©sultat transform√©, sans :
- Explications pr√©liminaires
- Commentaires sur le processus
- Notes ou remarques additionnelles
- Propositions d'alternatives`;
                    constraints.prohibitions = `‚ùå Ne pas ajouter d'√©l√©ments non demand√©s
‚ùå Ne pas omettre des parties du contenu source
‚ùå Ne pas d√©vier du format cible
‚ùå Ne pas expliquer la transformation`;
                    constraints.validation = `- [ ] Le format cible est strictement respect√©
- [ ] Aucune information source n'est omise
- [ ] Le sens original est pr√©serv√©
- [ ] Aucun √©l√©ment superflu n'est ajout√©`;
                    break;

                case 'summary':
                    constraints.role = "Tu es un expert en synth√®se et condensation d'informations.";
                    constraints.objective = "Produire un r√©sum√© fid√®le, concis et structur√©.";
                    constraints.constraints = `- Longueur : Maximum 30% du texte original
- Fid√©lit√© : Conserver toutes les id√©es principales
- Structure : Hi√©rarchiser les informations
- Clart√© : Reformulation claire sans perte de sens`;
                    constraints.format = `1. Id√©e principale (1 phrase)
2. Points cl√©s (3-5 bullets maximum)
3. Conclusion/Implication (1 phrase)

Total : Maximum 150 mots pour un texte source de 500 mots`;
                    constraints.prohibitions = `‚ùå Ne pas d√©passer 30% de la longueur originale
‚ùå Ne pas ajouter d'interpr√©tations personnelles
‚ùå Ne pas omettre des points importants
‚ùå Ne pas paraphraser inutilement`;
                    constraints.validation = `- [ ] Le r√©sum√© fait moins de 30% de l'original
- [ ] Toutes les id√©es principales sont pr√©sentes
- [ ] La structure est claire
- [ ] Aucune information erron√©e n'est ajout√©e`;
                    break;

                case 'coding':
                    constraints.role = "Tu es un d√©veloppeur expert ma√Ætrisant les meilleures pratiques de programmation.";
                    constraints.objective = "Produire du code fonctionnel, propre et document√©.";
                    constraints.constraints = `- Fonctionnalit√© : Le code doit fonctionner imm√©diatement
- Qualit√© : Code propre, lisible, comment√©
- Bonnes pratiques : Conventions du langage respect√©es
- S√©curit√© : Pas de failles √©videntes`;
                    constraints.format = `1. Code complet et fonctionnel
2. Commentaires explicatifs pour les parties complexes
3. Exemple d'utilisation si pertinent
4. D√©pendances n√©cessaires (si applicable)`;
                    constraints.prohibitions = `‚ùå Ne pas livrer de code incomplet ou avec des TODO
‚ùå Ne pas ignorer les cas d'erreur √©vidents
‚ùå Ne pas utiliser de mauvaises pratiques
‚ùå Ne pas oublier les imports/d√©pendances`;
                    constraints.validation = `- [ ] Le code est complet et ex√©cutable
- [ ] Les commentaires sont pr√©sents
- [ ] Les bonnes pratiques sont respect√©es
- [ ] Les cas d'erreur sont g√©r√©s`;
                    break;

                default:
                    constraints.role = "Tu es un assistant expert dans la t√¢che demand√©e.";
                    constraints.objective = "Accomplir la t√¢che demand√©e de mani√®re compl√®te et professionnelle.";
                    constraints.constraints = `- Qualit√© : R√©sultat professionnel et soign√©
- Compl√©tude : R√©pondre √† tous les aspects de la demande
- Clart√© : Communication claire et structur√©e
- Pr√©cision : Informations exactes et v√©rifiables`;
                    constraints.format = `Structurer la r√©ponse de mani√®re logique avec :
1. R√©ponse directe √† la demande
2. D√©veloppement et d√©tails
3. Exemples ou illustrations si pertinent`;
                    constraints.prohibitions = `‚ùå Ne pas rester vague ou g√©n√©rique
‚ùå Ne pas ignorer des aspects de la demande
‚ùå Ne pas donner d'informations non v√©rifi√©es
‚ùå Ne pas proposer sans ex√©cuter`;
                    constraints.validation = `- [ ] La demande est enti√®rement trait√©e
- [ ] La r√©ponse est structur√©e
- [ ] Les informations sont pr√©cises
- [ ] Le r√©sultat est exploitable`;
            }

            return constraints;
        }

        // Copier dans le presse-papier
        function copyToClipboard() {
            const output = document.getElementById('outputPrompt');
            
            if (!output.value) {
                alert('‚ö†Ô∏è Aucun texte √† copier ! Traduisez d\'abord un prompt.');
                return;
            }
            
            output.select();
            document.execCommand('copy');
            
            // Animation de confirmation
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚úÖ Copi√© !';
            btn.style.background = '#4caf50';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '#6bcf7f';
            }, 2000);
        }

        // Effacer tout
        function clearAll() {
            if (confirm('√ätes-vous s√ªr de vouloir tout effacer ?')) {
                document.getElementById('inputPrompt').value = '';
                document.getElementById('outputPrompt').value = '';
                updateStats();
            }
        }

        // Mise √† jour automatique des stats
        document.getElementById('inputPrompt').addEventListener('input', updateStats);
        document.getElementById('outputPrompt').addEventListener('input', updateStats);

        // Raccourci clavier : Ctrl+Enter pour traduire
        document.getElementById('inputPrompt').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                translatePrompt();
            }
        });

        // Initialisation
        updateStats();
    </script>
</body>
</html>
